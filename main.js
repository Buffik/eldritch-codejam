(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var r;e.g.importScripts&&(r=e.g.location+"");var n=e.g.document;if(!r&&n&&(n.currentScript&&(r=n.currentScript.src),!r)){var d=n.getElementsByTagName("script");d.length&&(r=d[d.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=r})();const r={azathoth:e.p+"e76cc60e6f2b9bb167ce.png",cthulhu:e.p+"e7bfd029744dc9f87c1a.png",iogSothoth:e.p+"c5b7717bff973cda27be.png",shubNiggurath:e.p+"68c4272e00c9596e65b1.png"},n=[{id:"azathoth",name:"azathoth",cardFace:r.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:r.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:r.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:r.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}];console.log(n.length);const d=[{id:"very-easy",name:"Очень низкая"},{id:"easy",name:"Низкая"},{id:"normal",name:"Средняя"},{id:"hard",name:"Высокая"},{id:"very-hard",name:"Очень высокая"}],a={brown1:e.p+"ac85e7db9ab360fe235a.png",brown2:e.p+"c44579505d0d3ccfd7c8.png",brown3:e.p+"caababcab21e08510c27.png",brown4:e.p+"e387b64a537a0fb25c84.png",brown5:e.p+"709f87f82c146ab3189a.png",brown6:e.p+"23453f970c4a388f8b68.png",brown7:e.p+"7da5050420b14d67a481.png",brown8:e.p+"2126fcd965be3b428dca.png",brown9:e.p+"3d69a01cdd56175f304e.png",brown10:e.p+"703068f44f9153534f9c.png",brown11:e.p+"157fd0a92444cc2a245f.png",brown12:e.p+"920b1409d3f7d006e764.png",brown13:e.p+"a8d77ff5b5eaa534b968.png",brown14:e.p+"f5d21e1965d8ec808bc2.png",brown15:e.p+"036f8f91eccd0e8f9708.png",brown16:e.p+"1fd61bbd111986a0965a.png",brown17:e.p+"6a53cc04a2d6cbb63677.png",brown18:e.p+"c537bfb2cd284c9667ae.png",brown19:e.p+"199841521c55940d0d03.png",brown20:e.p+"1182a8f80bd2272b3d07.png",brown21:e.p+"3a8e72879e11c315c59d.png"},c=[{id:"brown1",cardFace:a.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:a.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:a.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:a.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:a.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:a.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:a.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:a.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:a.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:a.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:a.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:a.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:a.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:a.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:a.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:a.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:a.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:a.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:a.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:a.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:a.brown21,difficulty:"easy",color:"brown"}],t={blue1:e.p+"09c8e5eb50dc7666f1aa.png",blue2:e.p+"3cc352cdc8fade5dad4c.png",blue3:e.p+"fdd1d10ff513774eb841.png",blue4:e.p+"f09f0f715e525a0b50ec.png",blue5:e.p+"e3e8792622b0c75c78c1.png",blue6:e.p+"cf323c98a3f54632a66c.png",blue7:e.p+"4cdb1bd641372e2d0f74.png",blue8:e.p+"02a9eec68518951fc18e.png",blue9:e.p+"d3371911f8f0d84b5585.png",blue10:e.p+"c61c9f73492d8cd7027c.png",blue11:e.p+"f7e6552a92e4b878107a.png",blue12:e.p+"204f9160083e529ab763.png"},o=[{id:"blue1",cardFace:t.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:t.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:t.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:t.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:t.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:t.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:t.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:t.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:t.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:t.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:t.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:t.blue12,difficulty:"normal",color:"blue"}],i={green1:e.p+"ee9218f13d2668469469.png",green2:e.p+"1a1b4da17274000ce3a8.png",green3:e.p+"24a6de1c53f0cc14bb95.png",green4:e.p+"d9d9a3dc837a4101fc61.png",green5:e.p+"0634bb414e136066d46f.png",green6:e.p+"ca07046ad17914ec04d0.png",green7:e.p+"f9d8238c6770bdc97f73.png",green8:e.p+"bc5f83ed7ced1b832494.png",green9:e.p+"bc368631ac89e5bf0891.png",green10:e.p+"766beb973fc76ac9564e.png",green11:e.p+"305fdb3b09ad909c598f.png",green12:e.p+"b786b0a5e0aaf884c27b.png",green13:e.p+"b3e3243ad3927ba66da7.png",green14:e.p+"20b6b1be80bef6932ab0.png",green15:e.p+"63677766cd3a4cea8da0.png",green16:e.p+"608e0aecaccf5ff896fb.png",green17:e.p+"0ebea1f5b536a0b85765.png",green18:e.p+"268edbdc27e016d06a52.png"},l=[{id:"green1",cardFace:i.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:i.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:i.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:i.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:i.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:i.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:i.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:i.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:i.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:i.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:i.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:i.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:i.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:i.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:i.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:i.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:i.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:i.green18,difficulty:"easy",color:"green"}],b=e=>{for(let r=e.length-1;r>0;r--){let n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},s=(e,r,n,d,a)=>{if(e.greenCards>0)for(let d=0;d<e.greenCards;d++)r.push(n.pop());if(e.brownCards>0)for(let n=0;n<e.brownCards;n++)r.push(d.pop());if(e.blueCards>0)for(let n=0;n<e.blueCards;n++)r.push(a.pop())};let g=e=>{switch(e){case"azathoth":return 0;case"cthulhu":return 1;case"iogSothoth":return 2;case"shubNiggurath":return 3}};const u=(e,r)=>{let n=0;return e.forEach((e=>{e.color===r&&n++})),n};let f,p,w=document.createElement("div"),h=document.createElement("div"),y=document.createElement("div"),m=document.createElement("div"),C=document.createElement("div"),F=document.createElement("div");var v,S;document.body.appendChild(w),(e=>{e.classList.add("ancient-cards__template"),e.classList.add("sibling-fade");for(let r=0;r<n.length;r++){let d=document.createElement("img");d.src=n[r].cardFace,d.id=n[r].id,d.classList.add("ancient-card"),e.append(d)}})(w),document.body.appendChild(h),(e=>{e.classList.add("difficulty__template"),e.classList.add("sibling-fade-difficulties");for(let r=0;r<d.length;r++){let n=document.createElement("div");n.innerText=d[r].name,n.id=d[r].id,n.classList.add("difficulty"),e.append(n)}})(h),(()=>{let e=document.createElement("button");e.innerText="Замешать",e.classList.add("start-button"),document.body.append(e)})(),((e,r)=>{r.classList.add("deck-container"),r.classList.add("hidden"),document.body.appendChild(r),e.classList.add("current-state"),r.appendChild(e);for(let r=0;r<3;r++)switch(r){case 0:let r=document.createElement("div");r.classList.add("stage-container"),r.innerHTML='\n        <span class="stage-text">Первая стадия</span>\n        <div class="dots-container">\n          <div id="first-stage-green" class="dot green">0</div>\n          <div id="first-stage-brown" class="dot brown">0</div>\n          <div id="first-stage-blue" class="dot blue">0</div>\n        </div>\n        ',e.appendChild(r);break;case 1:let n=document.createElement("div");n.classList.add("stage-container"),n.innerHTML='\n          <span class="stage-text">Вторая стадия</span>\n          <div class="dots-container">\n            <div id="second-stage-green" class="dot green">0</div>\n            <div id="second-stage-brown" class="dot brown">0</div>\n            <div id="second-stage-blue" class="dot blue">0</div>\n          </div>\n          ',e.appendChild(n);break;case 2:let d=document.createElement("div");d.classList.add("stage-container"),d.innerHTML='\n        <span class="stage-text">Третья стадия</span>\n        <div class="dots-container">\n          <div id="third-stage-green" class="dot green">0</div>\n          <div id="third-stage-brown" class="dot brown">0</div>\n          <div id="third-stage-blue" class="dot blue">0</div>\n        </div>\n        ',e.appendChild(d)}})(m,y),S=y,(v=C).classList.add("last-card"),S.appendChild(v),((e,r)=>{e.classList.add("deck"),r.appendChild(e)})(F,y);let L=[],T=document.querySelectorAll(".ancient-card"),x=document.querySelector(".ancient-cards__template"),$=document.querySelectorAll(".difficulty"),E=document.querySelector(".difficulty__template"),q=document.querySelector(".start-button"),k=document.querySelector(".deck-container");x.addEventListener("click",(e=>{k.classList.add("hidden"),T.forEach((e=>e.classList.remove("clicked_item"))),e.target.classList.add("clicked_item"),f=e.target.id,L=(e=>{b(c),b(o),b(l);let r=n[g(e)].firstStage,d=n[g(e)].secondStage,a=n[g(e)].thirdStage,t=r.greenCards+d.greenCards+a.greenCards,i=r.blueCards+d.blueCards+a.blueCards,u=[t,r.brownCards+d.brownCards+a.brownCards,i],f=[],p=[],w=[];for(let e=0;e<u.length;e++)for(let r=0;r<u[e];r++)0===e?f.push(l[r]):1===e?p.push(c[r]):2===e&&w.push(o[r]);let h=[],y=[],m=[];return s(r,h,f,p,w),s(d,y,f,p,w),s(a,m,f,p,w),[b(h),b(y),b(m)]})(f),console.log(L)})),E.addEventListener("click",(e=>{k.classList.add("hidden"),$.forEach((e=>e.classList.remove("clicked_difficulty"))),e.target.classList.add("clicked_difficulty"),p=e.target.id}));let _=document.querySelector(".deck"),N=document.querySelector(".last-card"),z=document.querySelector("#first-stage-green"),M=document.querySelector("#first-stage-brown"),A=document.querySelector("#first-stage-blue"),H=document.querySelector("#second-stage-green"),j=document.querySelector("#second-stage-brown"),I=document.querySelector("#second-stage-blue"),B=document.querySelector("#third-stage-green"),P=document.querySelector("#third-stage-brown"),D=document.querySelector("#third-stage-blue");_.addEventListener("click",(()=>{console.log(L),N.style.backgroundImage=`url(${(e=>{let r="";return e[0].length>0?(r=e[0].shift(),r.cardFace):e[1].length>0?(r=e[1].shift(),r.cardFace):e[2].length>0?(r=e[2].shift(),r.cardFace):0===e[0].length&&0===e[1].length&&0===e[2].length?r:void 0})(L)})`,z.innerText=`${u(L[0],"green")}`,M.innerText=`${u(L[0],"brown")}`,A.innerText=`${u(L[0],"blue")}`,H.innerText=`${u(L[1],"green")}`,j.innerText=`${u(L[1],"brown")}`,I.innerText=`${u(L[1],"blue")}`,B.innerText=`${u(L[2],"green")}`,P.innerText=`${u(L[2],"brown")}`,D.innerText=`${u(L[2],"blue")}`})),q.addEventListener("click",(()=>{void 0!==f&&void 0!==p?(C.style.backgroundImage="",k.classList.remove("hidden"),z.innerText=`${u(L[0],"green")}`,M.innerText=`${u(L[0],"brown")}`,A.innerText=`${u(L[0],"blue")}`,H.innerText=`${u(L[1],"green")}`,j.innerText=`${u(L[1],"brown")}`,I.innerText=`${u(L[1],"blue")}`,B.innerText=`${u(L[2],"green")}`,P.innerText=`${u(L[2],"brown")}`,D.innerText=`${u(L[2],"blue")}`):alert("Выберите Древнего и сложность чтобы замешать колоду!")}))})();